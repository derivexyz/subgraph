[
  {
    "inputs": [],
    "stateMutability": "nonpayable",
    "type": "constructor"
  },
  {
    "inputs": [
      {
        "components": [
          {
            "internalType": "uint256",
            "name": "optionPriceFeeCoefficient",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "spotPriceFeeCoefficient",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "vegaFeeCoefficient",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "vegaNormFactor",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "standardSize",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "skewAdjustmentFactor",
            "type": "uint256"
          },
          {
            "internalType": "int256",
            "name": "rateAndCarry",
            "type": "int256"
          },
          {
            "internalType": "int256",
            "name": "minDelta",
            "type": "int256"
          },
          {
            "internalType": "uint256",
            "name": "volatilityCutoff",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "spotPrice",
            "type": "uint256"
          }
        ],
        "internalType": "struct ILyraGlobals.PricingGlobals",
        "name": "pricingGlobals",
        "type": "tuple"
      },
      {
        "internalType": "uint256",
        "name": "amount",
        "type": "uint256"
      },
      {
        "internalType": "uint256",
        "name": "optionPrice",
        "type": "uint256"
      },
      {
        "internalType": "uint256",
        "name": "vegaUtil",
        "type": "uint256"
      }
    ],
    "name": "getFee",
    "outputs": [
      {
        "internalType": "uint256",
        "name": "fee",
        "type": "uint256"
      }
    ],
    "stateMutability": "pure",
    "type": "function"
  },
  {
    "inputs": [
      {
        "components": [
          {
            "internalType": "bool",
            "name": "isBuy",
            "type": "bool"
          },
          {
            "internalType": "uint256",
            "name": "amount",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "vol",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "expiry",
            "type": "uint256"
          },
          {
            "components": [
              {
                "internalType": "uint256",
                "name": "freeCollatLiquidity",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "usedCollatLiquidity",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "freeDeltaLiquidity",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "usedDeltaLiquidity",
                "type": "uint256"
              }
            ],
            "internalType": "struct ILiquidityPool.Liquidity",
            "name": "liquidity",
            "type": "tuple"
          }
        ],
        "internalType": "struct IOptionMarket.Trade",
        "name": "trade",
        "type": "tuple"
      },
      {
        "components": [
          {
            "internalType": "uint256",
            "name": "optionPrice",
            "type": "uint256"
          },
          {
            "internalType": "int256",
            "name": "preTradeAmmNetStdVega",
            "type": "int256"
          },
          {
            "internalType": "int256",
            "name": "postTradeAmmNetStdVega",
            "type": "int256"
          },
          {
            "internalType": "int256",
            "name": "callDelta",
            "type": "int256"
          }
        ],
        "internalType": "struct IOptionMarketPricer.Pricing",
        "name": "pricing",
        "type": "tuple"
      },
      {
        "components": [
          {
            "internalType": "uint256",
            "name": "optionPriceFeeCoefficient",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "spotPriceFeeCoefficient",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "vegaFeeCoefficient",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "vegaNormFactor",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "standardSize",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "skewAdjustmentFactor",
            "type": "uint256"
          },
          {
            "internalType": "int256",
            "name": "rateAndCarry",
            "type": "int256"
          },
          {
            "internalType": "int256",
            "name": "minDelta",
            "type": "int256"
          },
          {
            "internalType": "uint256",
            "name": "volatilityCutoff",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "spotPrice",
            "type": "uint256"
          }
        ],
        "internalType": "struct ILyraGlobals.PricingGlobals",
        "name": "pricingGlobals",
        "type": "tuple"
      }
    ],
    "name": "getPremium",
    "outputs": [
      {
        "internalType": "uint256",
        "name": "premium",
        "type": "uint256"
      }
    ],
    "stateMutability": "pure",
    "type": "function"
  },
  {
    "inputs": [
      {
        "components": [
          {
            "internalType": "bool",
            "name": "isBuy",
            "type": "bool"
          },
          {
            "internalType": "uint256",
            "name": "amount",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "vol",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "expiry",
            "type": "uint256"
          },
          {
            "components": [
              {
                "internalType": "uint256",
                "name": "freeCollatLiquidity",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "usedCollatLiquidity",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "freeDeltaLiquidity",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "usedDeltaLiquidity",
                "type": "uint256"
              }
            ],
            "internalType": "struct ILiquidityPool.Liquidity",
            "name": "liquidity",
            "type": "tuple"
          }
        ],
        "internalType": "struct IOptionMarket.Trade",
        "name": "trade",
        "type": "tuple"
      },
      {
        "components": [
          {
            "internalType": "uint256",
            "name": "optionPrice",
            "type": "uint256"
          },
          {
            "internalType": "int256",
            "name": "preTradeAmmNetStdVega",
            "type": "int256"
          },
          {
            "internalType": "int256",
            "name": "postTradeAmmNetStdVega",
            "type": "int256"
          },
          {
            "internalType": "int256",
            "name": "callDelta",
            "type": "int256"
          }
        ],
        "internalType": "struct IOptionMarketPricer.Pricing",
        "name": "pricing",
        "type": "tuple"
      },
      {
        "components": [
          {
            "internalType": "uint256",
            "name": "optionPriceFeeCoefficient",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "spotPriceFeeCoefficient",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "vegaFeeCoefficient",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "vegaNormFactor",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "standardSize",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "skewAdjustmentFactor",
            "type": "uint256"
          },
          {
            "internalType": "int256",
            "name": "rateAndCarry",
            "type": "int256"
          },
          {
            "internalType": "int256",
            "name": "minDelta",
            "type": "int256"
          },
          {
            "internalType": "uint256",
            "name": "volatilityCutoff",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "spotPrice",
            "type": "uint256"
          }
        ],
        "internalType": "struct ILyraGlobals.PricingGlobals",
        "name": "pricingGlobals",
        "type": "tuple"
      }
    ],
    "name": "getVegaUtil",
    "outputs": [
      {
        "internalType": "uint256",
        "name": "vegaUtil",
        "type": "uint256"
      }
    ],
    "stateMutability": "pure",
    "type": "function"
  },
  {
    "inputs": [
      {
        "internalType": "address",
        "name": "_optionMarket",
        "type": "address"
      },
      {
        "internalType": "contract IOptionGreekCache",
        "name": "_greekCache",
        "type": "address"
      }
    ],
    "name": "init",
    "outputs": [],
    "stateMutability": "nonpayable",
    "type": "function"
  },
  {
    "inputs": [
      {
        "components": [
          {
            "internalType": "uint256",
            "name": "id",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "strike",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "skew",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "longCall",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "shortCall",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "longPut",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "shortPut",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "boardId",
            "type": "uint256"
          }
        ],
        "internalType": "struct IOptionMarket.OptionListing",
        "name": "listing",
        "type": "tuple"
      },
      {
        "components": [
          {
            "internalType": "bool",
            "name": "isBuy",
            "type": "bool"
          },
          {
            "internalType": "uint256",
            "name": "amount",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "vol",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "expiry",
            "type": "uint256"
          },
          {
            "components": [
              {
                "internalType": "uint256",
                "name": "freeCollatLiquidity",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "usedCollatLiquidity",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "freeDeltaLiquidity",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "usedDeltaLiquidity",
                "type": "uint256"
              }
            ],
            "internalType": "struct ILiquidityPool.Liquidity",
            "name": "liquidity",
            "type": "tuple"
          }
        ],
        "internalType": "struct IOptionMarket.Trade",
        "name": "trade",
        "type": "tuple"
      },
      {
        "components": [
          {
            "internalType": "uint256",
            "name": "optionPriceFeeCoefficient",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "spotPriceFeeCoefficient",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "vegaFeeCoefficient",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "vegaNormFactor",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "standardSize",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "skewAdjustmentFactor",
            "type": "uint256"
          },
          {
            "internalType": "int256",
            "name": "rateAndCarry",
            "type": "int256"
          },
          {
            "internalType": "int256",
            "name": "minDelta",
            "type": "int256"
          },
          {
            "internalType": "uint256",
            "name": "volatilityCutoff",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "spotPrice",
            "type": "uint256"
          }
        ],
        "internalType": "struct ILyraGlobals.PricingGlobals",
        "name": "pricingGlobals",
        "type": "tuple"
      },
      {
        "internalType": "uint256",
        "name": "boardBaseIv",
        "type": "uint256"
      }
    ],
    "name": "ivImpactForTrade",
    "outputs": [
      {
        "internalType": "uint256",
        "name": "",
        "type": "uint256"
      },
      {
        "internalType": "uint256",
        "name": "",
        "type": "uint256"
      }
    ],
    "stateMutability": "pure",
    "type": "function"
  },
  {
    "inputs": [
      {
        "components": [
          {
            "internalType": "uint256",
            "name": "id",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "strike",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "skew",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "longCall",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "shortCall",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "longPut",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "shortPut",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "boardId",
            "type": "uint256"
          }
        ],
        "internalType": "struct IOptionMarket.OptionListing",
        "name": "listing",
        "type": "tuple"
      },
      {
        "components": [
          {
            "internalType": "bool",
            "name": "isBuy",
            "type": "bool"
          },
          {
            "internalType": "uint256",
            "name": "amount",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "vol",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "expiry",
            "type": "uint256"
          },
          {
            "components": [
              {
                "internalType": "uint256",
                "name": "freeCollatLiquidity",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "usedCollatLiquidity",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "freeDeltaLiquidity",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "usedDeltaLiquidity",
                "type": "uint256"
              }
            ],
            "internalType": "struct ILiquidityPool.Liquidity",
            "name": "liquidity",
            "type": "tuple"
          }
        ],
        "internalType": "struct IOptionMarket.Trade",
        "name": "trade",
        "type": "tuple"
      },
      {
        "components": [
          {
            "internalType": "uint256",
            "name": "optionPriceFeeCoefficient",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "spotPriceFeeCoefficient",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "vegaFeeCoefficient",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "vegaNormFactor",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "standardSize",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "skewAdjustmentFactor",
            "type": "uint256"
          },
          {
            "internalType": "int256",
            "name": "rateAndCarry",
            "type": "int256"
          },
          {
            "internalType": "int256",
            "name": "minDelta",
            "type": "int256"
          },
          {
            "internalType": "uint256",
            "name": "volatilityCutoff",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "spotPrice",
            "type": "uint256"
          }
        ],
        "internalType": "struct ILyraGlobals.PricingGlobals",
        "name": "pricingGlobals",
        "type": "tuple"
      },
      {
        "internalType": "uint256",
        "name": "boardBaseIv",
        "type": "uint256"
      }
    ],
    "name": "updateCacheAndGetTotalCost",
    "outputs": [
      {
        "internalType": "uint256",
        "name": "totalCost",
        "type": "uint256"
      },
      {
        "internalType": "uint256",
        "name": "newBaseIv",
        "type": "uint256"
      },
      {
        "internalType": "uint256",
        "name": "newSkew",
        "type": "uint256"
      }
    ],
    "stateMutability": "nonpayable",
    "type": "function"
  }
]
